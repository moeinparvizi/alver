<header dir="rtl" class="bg-white shadow-md">
  <div class="container mx-auto px-4 py-4 flex items-center justify-between">
    <h1 class="text-xl font-bold text-gray-700">سفارشات من</h1>
    <button mat-button color="primary">بازگشت</button>
  </div>
</header>

<div dir="rtl" class="bg-white shadow-md">
  <mat-tab-group
    [(selectedIndex)]="selectedIndex"
    class="container mx-auto px-4 py-2">
    <mat-tab label="در انتظار ارسال" (click)="setActiveTab('pending')">
      <main class="container mx-auto px-4 py-6">
        @if (pendingOrders.length) {
          @for (order of pendingOrders; track order.id) {
            <div
              class="bg-white shadow-md rounded-lg p-4 mb-4 flex flex-col gap-4">
              <div class="flex items-center justify-between">
                <div class="text-sm text-gray-600">
                  <p>
                    کد سفارش: <span class="font-bold">{{ order.id }}</span>
                  </p>
                  <p class="mt-1">
                    تاریخ: <span class="font-bold">{{ order.created }}</span>
                  </p>
                </div>
                <p class="text-green-600 font-bold">در حال پردازش</p>
              </div>
              <hr class="border-gray-300" />
              @for (product of order.products; track product.id) {
                <div class="flex items-center gap-4">
                  <img
                    [src]="product.image"
                    alt="{{ product.name }}"
                    class="w-16 h-16 rounded" />
                  <div class="text-sm flex-grow">
                    <p class="font-bold">{{ product.name }}</p>
                    <p class="text-gray-500">تعداد: {{ product.count }}</p>
                  </div>
                  <p class="text-sm font-bold">{{ product.price }} تومان</p>
                </div>
              }
            </div>
          }
        } @else {
          <p class="text-center text-gray-600">سفارشی در انتظار ارسال نیست</p>
        }
      </main>
    </mat-tab>

    <mat-tab label="تحویل شده" (click)="setActiveTab('delivered')">
      <main class="container mx-auto px-4 py-6">
        @if (deliveredOrders.length) {
          @for (order of deliveredOrders; track order.id) {
            <div
              class="bg-white shadow-md rounded-lg p-4 mb-4 flex flex-col gap-4">
              <div class="flex items-center justify-between">
                <div class="text-sm text-gray-600">
                  <p>
                    کد سفارش: <span class="font-bold">{{ order.id }}</span>
                  </p>
                  <p class="mt-1">
                    تاریخ: <span class="font-bold">{{ order.created }}</span>
                  </p>
                </div>
                <p class="text-blue-600 font-bold">تحویل شده</p>
              </div>
              <hr class="border-gray-300" />
              @for (product of order.products; track product.id) {
                <div class="flex items-center gap-4">
                  <img
                    [src]="product.image"
                    alt="{{ product.name }}"
                    class="w-16 h-16 rounded" />
                  <div class="text-sm flex-grow">
                    <p class="font-bold">{{ product.name }}</p>
                    <p class="text-gray-500">تعداد: {{ product.count }}</p>
                  </div>
                  <p class="text-sm font-bold">{{ product.price }} تومان</p>
                </div>
              }
            </div>
          }
        } @else {
          <p class="text-center text-gray-600">سفارشی تحویل شده نیست</p>
        }
      </main>
    </mat-tab>

    <mat-tab label="لغو شده" (click)="setActiveTab('canceled')">
      <main class="container mx-auto px-4 py-6">
        @if (canceledOrders.length) {
          @for (order of canceledOrders; track order.id) {
            <div
              class="bg-white shadow-md rounded-lg p-4 mb-4 flex flex-col gap-4">
              <div class="flex items-center justify-between">
                <div class="text-sm text-gray-600">
                  <p>
                    کد سفارش: <span class="font-bold">{{ order.id }}</span>
                  </p>
                  <p class="mt-1">
                    تاریخ: <span class="font-bold">{{ order.created }}</span>
                  </p>
                </div>
                <p class="text-red-600 font-bold">لغو شده</p>
              </div>
              <hr class="border-gray-300" />
              @for (product of order.products; track product.id) {
                <div class="flex items-center gap-4">
                  <img
                    [src]="product.image"
                    alt="{{ product.name }}"
                    class="w-16 h-16 rounded" />
                  <div class="text-sm flex-grow">
                    <p class="font-bold">{{ product.name }}</p>
                    <p class="text-gray-500">تعداد: {{ product.count }}</p>
                  </div>
                  <p class="text-sm font-bold">{{ product.price }} تومان</p>
                </div>
              }
            </div>
          }
        } @else {
          <p class="text-center text-gray-600">سفارشی لغو شده نیست</p>
        }
      </main>
    </mat-tab>
  </mat-tab-group>
</div>
